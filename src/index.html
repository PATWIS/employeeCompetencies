<link rel="stylesheet" href="https://appsforoffice.microsoft.com/fabric/fabric-core/4.0.0/fabric.min.css">
<link rel="stylesheet" href="https://appsforoffice.microsoft.com/fabric/fabric-js/1.0.0/fabric.components.min.css">
<link rel="stylesheet" href="https://infoprojektgdansk.sharepoint.com/sites/SPDevInstructions/Style%20Library/Styles/styles.css" />
<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.5/angular.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
<script src="https://infoprojektgdansk.sharepoint.com/sites/SPDevInstructions/Style%20Library/Scripts/picker.js"></script>
<script src="https://infoprojektgdansk.sharepoint.com/sites/SPDevInstructions/Style%20Library/Scripts/picker.date.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/ngOfficeUiFabric/0.12.8/ngOfficeUiFabric.min.js"></script>
<script src="https://infoprojektgdansk.sharepoint.com/sites/SPDevInstructions/Style%20Library/App/app.js"></script>
<script src="https://infoprojektgdansk.sharepoint.com/sites/SPDevInstructions/Style%20Library/App/Controllers/MainController.js"></script>
<script src="https://infoprojektgdansk.sharepoint.com/sites/SPDevInstructions/Style%20Library/App/Services/JSOMService.js"></script>
<section id="employeeCard" ng-app="app" ng-controller="MainController">


 <table class="ms-Table">
    <thead>
      <tr>
      <th>Competentie</th>
            <th>Instructie</th>
            <th>Datum afterkenen</th>
            <th>Datum herhaling</th>
      </tr>
    </thead>
    <tbody>
      <tr ng-repeat-start="competence in competences">
        <td rowspan="{{competence.Instructions.length+1}}" ng-bind="competence.Name"></td>
      </tr>
      <tr ng-repeat="instruction in competence.Instructions" ng-repeat-end>
        <td ng-model="instruction.Name"  ng-bind="instruction.Name"></td>
        <td class="editDate">
            <div ng-hide="editingData[competence.Id+'-'+instruction.Id]"><span ng-hide="instruction.TrainingDate == ''">{{instruction.TrainingDate | date:'dd/MM/yyyy'}}</span><span ng-show="instruction.TrainingDate == ''">not set</span></div>
          <div class="ms-TextField" ng-show="editingData[competence.Id+'-'+instruction.Id]">
            <uif-datepicker uif-date-format="dd/mm/yyyy" ng-model="instruction.TrainingDate"></uif-datepicker>
          </div>
        </td>
        <td><span ng-hide="instruction.TrainingDate == ''">{{instruction.ExpiryDate | date:'dd/MM/yyyy'}}</span><span ng-show="instruction.TrainingDate == ''">not set</span></td>
        <td><div ng-hide="editingData[competence.Id+'-'+instruction.Id] || !isVisible"><i class="ms-Icon ms-Icon--Edit" ng-click="modify(competence.Id, instruction)"></i></div>
        <div ng-show="editingData[competence.Id+'-'+instruction.Id]"><i class="ms-Icon ms-Icon--Save" ng-click="save(competence.Id, instruction)"></i></div></td>
      </tr>

    </tbody>
  </table>
</section>